const rndInt=randomIntFromInterval(1,2),body=document.querySelector("body"),masking=document.querySelector(".excerp_article_image_bg"),colorScheme=document.querySelector(".my_schema"),search=document.querySelector("#searcher"),openSearch=document.querySelector("#open_searcher"),closeSearch=document.querySelector("#close_searcher"),hype=document.querySelectorAll(".hype_rating_hide"),buttonsGrid=document.querySelectorAll(".article_grid_list .article_buttons .button"),randomWords=["¿De qué va esto?","Quiero saber más","¡Adelante!","Tiene buena pinta","Continuar leyendo"],platform=document.querySelectorAll(".article_platform"),rating=document.querySelectorAll(".my_rating"),ratingUsersComment=document.querySelectorAll(".comment_rating_display"),ratingUsersAverage=document.querySelector(".article_users_rating_average"),articleNext=document.querySelectorAll(".article_next a"),hypeSwipper=document.querySelectorAll(".swiper-slide_hype_number"),allSliders=document.querySelectorAll(".swiper");function randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}function addRatingAverage(){const e=document.createElement("img");let r=ratingUsersAverage.innerText.toLowerCase().trim();"sin valoraciones"!=r&&(ratingUsersAverage.parentNode.classList.remove("rating_lectores"),ratingPasarANumero=parseFloat(r),ratingUsersAverage.prepend(e),e.width=116,e.height=24,e.alt=`La valoración media de los usuarios es de ${r} estrellas`,1===ratingPasarANumero?e.src="https://darkblobcine.com/images/rating/1_stars_green.svg":ratingPasarANumero>=1&&ratingPasarANumero<=1.5?e.src="https://darkblobcine.com/images/rating/1_5_stars_green.svg":ratingPasarANumero>1.5&&ratingPasarANumero<=2?e.src="https://darkblobcine.com/images/rating/2_stars_green.svg":ratingPasarANumero>2&&ratingPasarANumero<=2.5?e.src="https://darkblobcine.com/images/rating/2_5_stars_green.svg":ratingPasarANumero>2.5&&ratingPasarANumero<=3?e.src="https://darkblobcine.com/images/rating/3_stars_green.svg":ratingPasarANumero>3&&ratingPasarANumero<=3.5?e.src="https://darkblobcine.com/images/rating/3_5_stars_green.svg":ratingPasarANumero>3.5&&ratingPasarANumero<=4?e.src="https://darkblobcine.com/images/rating/4_stars_green.svg":ratingPasarANumero>4&&ratingPasarANumero<=4.5?e.src="https://darkblobcine.com/images/rating/4_5_stars_green.svg":ratingPasarANumero>4.5&&ratingPasarANumero<=5&&(e.src="https://darkblobcine.com/images/rating/5_stars_green.svg"))}masking&&(1===rndInt?masking.classList.add("mask_1"):masking.classList.add("mask_2")),buttonsGrid.forEach(e=>{e.firstChild.textContent=randomWords[Math.floor(Math.random()*randomWords.length)]}),colorScheme&&"dark"===colorScheme.textContent&&body.classList.add("dark"),openSearch.addEventListener("click",e=>{search.style.display="block",search.style.opacity="100",body.classList.add("opened_searcher")}),closeSearch.addEventListener("click",e=>{search.style.display="none",search.style.opacity="0",body.classList.remove("opened_searcher")}),hype.forEach(e=>{switch(e.textContent){case"1":e.nextElementSibling.classList.add("hype_frozen");break;case"2":e.nextElementSibling.classList.add("hype_warm");break;case"3":e.nextElementSibling.classList.add("hype_excited");break;case"4":e.nextElementSibling.classList.add("hype_mindBlown")}}),rating.forEach(e=>{let r=e.parentElement,t=e.textContent;const a=document.createElement("img");!function(){r.prepend(a),a.width=116,a.height=24;let e=t.toString(),s=e.replace(".","_");a.alt=`Hemos valorado la película con ${e} estrellas`,"article_rating"!=r.classList.value?a.src=`https://darkblobcine.com/images/rating/${s}_stars_blue.svg`:a.src=`https://darkblobcine.com/images/rating/${s}_stars.svg`}()}),ratingUsersComment.forEach(e=>{let r=e.textContent,t=document.createElement("img");"0"===r||(e.append(t),t.width=86,t.height=18,t.src=`https://darkblobcine.com/images/rating/${r}_stars_white.svg`)}),ratingUsersAverage&&addRatingAverage(),platform.forEach(e=>{let r=e.textContent;const t=document.createElement("div"),a=document.createElement("a"),s=document.createElement("img");function n(r,n,i){if(r&&(e.after(a),a.href=`https://darkblobcine.com/index.php?s=category&c=${r}`,a.append(s),colorScheme&&"dark"===colorScheme.textContent?s.src=`https://darkblobcine.com/images/plataformas/${n}_dark.png`:s.src=`https://darkblobcine.com/images/plataformas/${n}.png`,s.classList.add("img_platform"),s.height=46,s.alt=`Película vista en ${r}`),"review"===i){t.classList.add("badge","review");let e="Reseña";t.innerText=e}else{t.classList.add("badge","noticia");let e="Noticia";t.innerText=e}}switch(r){case"Prime":n("prime","prime","review"),e.after(t);break;case"Netflix":n("netflix","netflix","review"),e.after(t);break;case"Disney":n("disney","disney","review"),e.after(t);break;case"Hbo":n("hbo","hbo","review"),e.after(t);break;case"Filmin":n("filmin","filmin","review"),e.after(t);break;case"Planet horror":n("planet-horror","phorror","review"),e.after(t);break;case"Noticia":n("","","noticia"),e.after(t)}}),articleNext&&articleNext.forEach(e=>{e.href==window.location.href&&(e.style.display="none")});const swiper1=new Swiper(".swiper-1",{direction:"horizontal",slidesPerView:2.25,spaceBetween:8,freeMode:!0,keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{1240:{slidesPerView:6,slidesPerGroup:6,spaceBetween:16,freeMode:!1},900:{slidesPerView:4,slidesPerGroup:4,spaceBetween:8,freeMode:!1},660:{slidesPerView:3,slidesPerGroup:3,spaceBetween:8,freeMode:!1}},navigation:{nextEl:".arrow_right_1",prevEl:".arrow_left_1"}}),swiper2=new Swiper(".swiper-2",{direction:"horizontal",slidesPerView:2.25,spaceBetween:8,freeMode:!0,keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{1240:{slidesPerView:6,slidesPerGroup:6,spaceBetween:16,freeMode:!1},900:{slidesPerView:4,slidesPerGroup:4,spaceBetween:8,freeMode:!1},660:{slidesPerView:3,slidesPerGroup:3,spaceBetween:8,freeMode:!1}},navigation:{nextEl:".arrow_right_2",prevEl:".arrow_left_2"}});function arrowsSlider(e,r){let t=document.querySelector(`.arrow_left_${r}`),a=document.querySelector(`.arrow_right_${r}`);e.on("activeIndexChange",function(){0!=e.activeIndex&&(t.style.opacity="1",t.style.pointerEvents="auto")}),e.on("reachBeginning",function(){a.style.opacity="1",a.style.pointerEvents="auto",t.style.opacity="0.3",t.style.pointerEvents="none"}),e.on("reachEnd",function(){a.style.opacity="0.3",a.style.pointerEvents="none",t.style.opacity="1",t.style.pointerEvents="auto"})}arrowsSlider(swiper1,"1"),arrowsSlider(swiper2,"2"),hypeSwipper.forEach(e=>{let r=e.parentElement,t=e.textContent,a=document.createElement("img"),s=document.createElement("span");a.width=24,a.height=24,function(){switch(t){case"1":a.src="https://darkblobcine.com/images/hype/frozen_swiper.svg",r.prepend(a),r.append(s),s.innerText="freezy!",s.style.color="#85A5F8";break;case"2":a.src="https://darkblobcine.com/images/hype/warm_swiper.svg",r.prepend(a),r.append(s),s.innerText="warm!",s.style.color="#65F8D4";break;case"3":a.src="https://darkblobcine.com/images/hype/excited_swiper.svg",r.prepend(a),r.append(s),s.innerText="hot!",s.style.color="#FCA573";break;case"4":a.src="https://darkblobcine.com/images/hype/mind_blown_swiper.svg",r.prepend(a),r.append(s),s.innerText="booom!",s.style.color="#E24344"}}()});